"use strict";(()=>{var _=function(s,t){return Number(s.slice(0,-1*t.length))},et=function(s){return s.endsWith("px")?{value:s,type:"px",numeric:_(s,"px")}:s.endsWith("fr")?{value:s,type:"fr",numeric:_(s,"fr")}:s.endsWith("%")?{value:s,type:"%",numeric:_(s,"%")}:s==="auto"?{value:s,type:"auto"}:null},X=function(s){return s.split(" ").map(et)},rt=function(s,t,e,r){e===void 0&&(e=0),r===void 0&&(r=!1);var l=r?s+1:s,m=t.slice(0,l).reduce(function(n,y){return n+y.numeric},0),v=e?s*e:0;return m+v},Y=function(s,t,e){return t.concat(e).map(function(r){return r.style[s]}).filter(function(r){return r!==void 0&&r!==""})},st=function(s,t){return t.endsWith(s)?Number(t.slice(0,-1*s.length)):null},j=function(s){for(var t=0;t<s.length;t++)if(s[t].numeric>0)return t;return null},$=function(){return!1},it=function(s,t,e){s.style[t]=e},u=function(s,t,e){var r=s[t];return r!==void 0?r:e};function J(s){var t;return(t=[]).concat.apply(t,Array.from(s.ownerDocument.styleSheets).map(function(e){var r=[];try{r=Array.from(e.cssRules||[])}catch{}return r})).filter(function(e){var r=!1;try{r=s.matches(e.selectorText)}catch{}return r})}var nt="grid-template-columns",ot="grid-template-rows",p=function(t,e,r){this.direction=t,this.element=e.element,this.track=e.track,t==="column"?(this.gridTemplateProp=nt,this.gridGapProp="grid-column-gap",this.cursor=u(r,"columnCursor",u(r,"cursor","col-resize")),this.snapOffset=u(r,"columnSnapOffset",u(r,"snapOffset",30)),this.dragInterval=u(r,"columnDragInterval",u(r,"dragInterval",1)),this.clientAxis="clientX",this.optionStyle=u(r,"gridTemplateColumns")):t==="row"&&(this.gridTemplateProp=ot,this.gridGapProp="grid-row-gap",this.cursor=u(r,"rowCursor",u(r,"cursor","row-resize")),this.snapOffset=u(r,"rowSnapOffset",u(r,"snapOffset",30)),this.dragInterval=u(r,"rowDragInterval",u(r,"dragInterval",1)),this.clientAxis="clientY",this.optionStyle=u(r,"gridTemplateRows")),this.onDragStart=u(r,"onDragStart",$),this.onDragEnd=u(r,"onDragEnd",$),this.onDrag=u(r,"onDrag",$),this.writeStyle=u(r,"writeStyle",it),this.startDragging=this.startDragging.bind(this),this.stopDragging=this.stopDragging.bind(this),this.drag=this.drag.bind(this),this.minSizeStart=e.minSizeStart,this.minSizeEnd=e.minSizeEnd,e.element&&(this.element.addEventListener("mousedown",this.startDragging),this.element.addEventListener("touchstart",this.startDragging))};p.prototype.getDimensions=function(){var t=this.grid.getBoundingClientRect(),e=t.width,r=t.height,l=t.top,m=t.bottom,v=t.left,n=t.right;this.direction==="column"?(this.start=l,this.end=m,this.size=r):this.direction==="row"&&(this.start=v,this.end=n,this.size=e)};p.prototype.getSizeAtTrack=function(t,e){return rt(t,this.computedPixels,this.computedGapPixels,e)};p.prototype.getSizeOfTrack=function(t){return this.computedPixels[t].numeric};p.prototype.getRawTracks=function(){var t=Y(this.gridTemplateProp,[this.grid],J(this.grid));if(!t.length){if(this.optionStyle)return this.optionStyle;throw Error("Unable to determine grid template tracks from styles.")}return t[0]};p.prototype.getGap=function(){var t=Y(this.gridGapProp,[this.grid],J(this.grid));return t.length?t[0]:null};p.prototype.getRawComputedTracks=function(){return window.getComputedStyle(this.grid)[this.gridTemplateProp]};p.prototype.getRawComputedGap=function(){return window.getComputedStyle(this.grid)[this.gridGapProp]};p.prototype.setTracks=function(t){this.tracks=t.split(" "),this.trackValues=X(t)};p.prototype.setComputedTracks=function(t){this.computedTracks=t.split(" "),this.computedPixels=X(t)};p.prototype.setGap=function(t){this.gap=t};p.prototype.setComputedGap=function(t){this.computedGap=t,this.computedGapPixels=st("px",this.computedGap)||0};p.prototype.getMousePosition=function(t){return"touches"in t?t.touches[0][this.clientAxis]:t[this.clientAxis]};p.prototype.startDragging=function(t){if(!("button"in t&&t.button!==0)){t.preventDefault(),this.element?this.grid=this.element.parentNode:this.grid=t.target.parentNode,this.getDimensions(),this.setTracks(this.getRawTracks()),this.setComputedTracks(this.getRawComputedTracks()),this.setGap(this.getGap()),this.setComputedGap(this.getRawComputedGap());var e=this.trackValues.filter(function(n){return n.type==="%"}),r=this.trackValues.filter(function(n){return n.type==="fr"});if(this.totalFrs=r.length,this.totalFrs){var l=j(r);l!==null&&(this.frToPixels=this.computedPixels[l].numeric/r[l].numeric)}if(e.length){var m=j(e);m!==null&&(this.percentageToPixels=this.computedPixels[m].numeric/e[m].numeric)}var v=this.getSizeAtTrack(this.track,!1)+this.start;if(this.dragStartOffset=this.getMousePosition(t)-v,this.aTrack=this.track-1,this.track<this.tracks.length-1)this.bTrack=this.track+1;else throw Error("Invalid track index: "+this.track+". Track must be between two other tracks and only "+this.tracks.length+" tracks were found.");this.aTrackStart=this.getSizeAtTrack(this.aTrack,!1)+this.start,this.bTrackEnd=this.getSizeAtTrack(this.bTrack,!0)+this.start,this.dragging=!0,window.addEventListener("mouseup",this.stopDragging),window.addEventListener("touchend",this.stopDragging),window.addEventListener("touchcancel",this.stopDragging),window.addEventListener("mousemove",this.drag),window.addEventListener("touchmove",this.drag),this.grid.addEventListener("selectstart",$),this.grid.addEventListener("dragstart",$),this.grid.style.userSelect="none",this.grid.style.webkitUserSelect="none",this.grid.style.MozUserSelect="none",this.grid.style.pointerEvents="none",this.grid.style.cursor=this.cursor,window.document.body.style.cursor=this.cursor,this.onDragStart(this.direction,this.track)}};p.prototype.stopDragging=function(){this.dragging=!1,this.cleanup(),this.onDragEnd(this.direction,this.track),this.needsDestroy&&(this.element&&(this.element.removeEventListener("mousedown",this.startDragging),this.element.removeEventListener("touchstart",this.startDragging)),this.destroyCb(),this.needsDestroy=!1,this.destroyCb=null)};p.prototype.drag=function(t){var e=this.getMousePosition(t),r=this.getSizeOfTrack(this.track),l=this.aTrackStart+this.minSizeStart+this.dragStartOffset+this.computedGapPixels,m=this.bTrackEnd-this.minSizeEnd-this.computedGapPixels-(r-this.dragStartOffset),v=l+this.snapOffset,n=m-this.snapOffset;e<v&&(e=l),e>n&&(e=m),e<l?e=l:e>m&&(e=m);var y=e-this.aTrackStart-this.dragStartOffset-this.computedGapPixels,S=this.bTrackEnd-e+this.dragStartOffset-r-this.computedGapPixels;if(this.dragInterval>1){var M=Math.round(y/this.dragInterval)*this.dragInterval;S-=M-y,y=M}if(y<this.minSizeStart&&(y=this.minSizeStart),S<this.minSizeEnd&&(S=this.minSizeEnd),this.trackValues[this.aTrack].type==="px")this.tracks[this.aTrack]=y+"px";else if(this.trackValues[this.aTrack].type==="fr")if(this.totalFrs===1)this.tracks[this.aTrack]="1fr";else{var D=y/this.frToPixels;this.tracks[this.aTrack]=D+"fr"}else if(this.trackValues[this.aTrack].type==="%"){var T=y/this.percentageToPixels;this.tracks[this.aTrack]=T+"%"}if(this.trackValues[this.bTrack].type==="px")this.tracks[this.bTrack]=S+"px";else if(this.trackValues[this.bTrack].type==="fr")if(this.totalFrs===1)this.tracks[this.bTrack]="1fr";else{var H=S/this.frToPixels;this.tracks[this.bTrack]=H+"fr"}else if(this.trackValues[this.bTrack].type==="%"){var F=S/this.percentageToPixels;this.tracks[this.bTrack]=F+"%"}var x=this.tracks.join(" ");this.writeStyle(this.grid,this.gridTemplateProp,x),this.onDrag(this.direction,this.track,x)};p.prototype.cleanup=function(){window.removeEventListener("mouseup",this.stopDragging),window.removeEventListener("touchend",this.stopDragging),window.removeEventListener("touchcancel",this.stopDragging),window.removeEventListener("mousemove",this.drag),window.removeEventListener("touchmove",this.drag),this.grid&&(this.grid.removeEventListener("selectstart",$),this.grid.removeEventListener("dragstart",$),this.grid.style.userSelect="",this.grid.style.webkitUserSelect="",this.grid.style.MozUserSelect="",this.grid.style.pointerEvents="",this.grid.style.cursor=""),window.document.body.style.cursor=""};p.prototype.destroy=function(t,e){t===void 0&&(t=!0),t||this.dragging===!1?(this.cleanup(),this.element&&(this.element.removeEventListener("mousedown",this.startDragging),this.element.removeEventListener("touchstart",this.startDragging)),e&&e()):(this.needsDestroy=!0,e&&(this.destroyCb=e))};var Z=function(s,t,e){return t in s?s[t]:e},q=function(s,t){return function(e){if(e.track<1)throw Error("Invalid track index: "+e.track+". Track must be between two other tracks.");var r=s==="column"?t.columnMinSizes||{}:t.rowMinSizes||{},l=s==="column"?"columnMinSize":"rowMinSize";return new p(s,Object.assign({},{minSizeStart:Z(r,e.track-1,u(t,l,u(t,"minSize",0))),minSizeEnd:Z(r,e.track+1,u(t,l,u(t,"minSize",0)))},e),t)}},I=function(t){var e=this;this.columnGutters={},this.rowGutters={},this.options=Object.assign({},{columnGutters:t.columnGutters||[],rowGutters:t.rowGutters||[],columnMinSizes:t.columnMinSizes||{},rowMinSizes:t.rowMinSizes||{}},t),this.options.columnGutters.forEach(function(r){e.columnGutters[r.track]=q("column",e.options)(r)}),this.options.rowGutters.forEach(function(r){e.rowGutters[r.track]=q("row",e.options)(r)})};I.prototype.addColumnGutter=function(t,e){this.columnGutters[e]&&this.columnGutters[e].destroy(),this.columnGutters[e]=q("column",this.options)({element:t,track:e})};I.prototype.addRowGutter=function(t,e){this.rowGutters[e]&&this.rowGutters[e].destroy(),this.rowGutters[e]=q("row",this.options)({element:t,track:e})};I.prototype.removeColumnGutter=function(t,e){var r=this;e===void 0&&(e=!0),this.columnGutters[t]&&this.columnGutters[t].destroy(e,function(){delete r.columnGutters[t]})};I.prototype.removeRowGutter=function(t,e){var r=this;e===void 0&&(e=!0),this.rowGutters[t]&&this.rowGutters[t].destroy(e,function(){delete r.rowGutters[t]})};I.prototype.handleDragStart=function(t,e,r){e==="column"?(this.columnGutters[r]&&this.columnGutters[r].destroy(),this.columnGutters[r]=q("column",this.options)({track:r}),this.columnGutters[r].startDragging(t)):e==="row"&&(this.rowGutters[r]&&this.rowGutters[r].destroy(),this.rowGutters[r]=q("row",this.options)({track:r}),this.rowGutters[r].startDragging(t))};I.prototype.destroy=function(t){var e=this;t===void 0&&(t=!0),Object.keys(this.columnGutters).forEach(function(r){return e.columnGutters[r].destroy(t,function(){delete e.columnGutters[r]})}),Object.keys(this.rowGutters).forEach(function(r){return e.rowGutters[r].destroy(t,function(){delete e.rowGutters[r]})})};function at(s){return new I(s)}var K=at;function lt(){let s=document.querySelector(".gutter-1"),t=document.querySelector(".gutter-right"),e=document.querySelector(".right-panel"),r=document.querySelector(".toggle"),l=document.getElementById("split-wrapper"),m=409,v=290,n=10,y=230,S=260,M=104,D=409,T=!0,H=[{track:1,element:s},{track:3,element:t}],F=[{track:1,element:s}],x=document.querySelector(".container-search-bar"),k=document.querySelector(".library-icon"),N=document.querySelector(".label-your-library"),O=document.querySelector(".library"),E=document.querySelector(".library-container"),A=document.querySelector(".container-action-library-button"),W="/closedLibrary.svg",V="/openLibrary.svg",R=new WeakMap;(()=>{let c=null;K({columnGutters:T?[...H]:[...F],onDrag(w,h,g){let d=g.split(" ").map(P=>parseFloat(P.replace("fr","")));if(T){let P=document.querySelectorAll(".container-title-meta"),z=document.querySelectorAll(".album-btn"),L=document.querySelector(".container-library-center-style"),G=document.querySelector(".library-container"),C=document.querySelectorAll(".library-item");if(h===1&&d[0]<S)c=`${M}px ${n}px ${1.73604}fr ${n}px ${d[4]}px`,l.style.gridTemplateColumns=c,x.style.display="none",N.style.display="none",k.id="CLOSE",k.src=W,z.forEach(i=>{i.style.justifyContent="center"}),G.style.padding="0px",G.style.margin="0px",C.forEach(i=>{i.style.marginRight="0px"}),P.forEach(i=>{i.style.display="none"}),E?.classList.remove("library-container"),E?.classList.add("container-library-center-style"),O.style.alignItems="center",A.style.margin="5px auto";else if(h===1&&d[0]>S){z!==null&&z.forEach(o=>{o.style.justifyContent="flex-start"}),C.forEach(o=>{o.style.marginRight="10px"}),console.log("IS OPEN"),k.id="OPEN",k.src=V,N.style.display="block",x.style.display="flex",O.style.alignItems="start",A.style.margin="13px 8px",E?.classList.remove("container-library-center-style"),E?.classList.add("library-container");let i=document.querySelector(".library-container");i.style.padding="0px 0px 0px 10px",i.style.margin="0px 0px 0px 8px",P.forEach(o=>{o.style.display="inline-grid"})}if(h===1&&d[0]>D&&(c=`${D}px ${n}px ${d[2]}fr ${n}px ${d[4]}px`,l.style.gridTemplateColumns=c),h===3&&d[4]<v&&(c=`${d[0]}px ${n}px ${d[2]}fr ${n}px ${v}px`,l.style.gridTemplateColumns=c),h===3&&d[4]>m){let i=document.getElementById("split-wrapper");c=`${d[0]}px ${n}px ${d[2]}fr ${n}px ${m}px`,i.style.gridTemplateColumns=c}}else h===1&&d[0]<S?(c=`${M}px ${n}px ${1.73604}fr`,l.style.gridTemplateColumns=c,x.style.display="none"):h===1&&d[0]>S&&(x.style.display="flex"),h===1&&d[0]>D&&(c=`${D}px ${n}px ${d[2]}fr`,l.style.gridTemplateColumns=c)},onDragStart(w,h){h===1?document.querySelector(".gutter-left-row")?.classList.add("active"):h===3&&document.querySelector(".gutter-right")?.classList.add("active")},onDragEnd(w,h){if(h===1)document.querySelector(".gutter-left-row")?.classList.remove("active");else if(h===3){let L=function(i,o={}){let f=i.querySelector("span");if(!f)return;i.style.position="relative",i.style.overflow="hidden",f.style.position="relative",f.style.whiteSpace="nowrap",f.style.left=f.style.left||"0px";let a={pos:0,dir:-1,paused:!1,rafId:null,pauseTime:o.pauseTime??1e3,speed:o.speed??.5};R.set(i,a);let B=()=>{let b=i.clientWidth,U=f.scrollWidth;if(U<=b){f.style.left="0px",a.rafId&&cancelAnimationFrame(a.rafId),a.rafId=null;return}a.paused||(a.pos+=a.dir*a.speed,f.style.left=a.pos+"px",a.pos>=0&&(a.paused=!0,setTimeout(()=>{a.dir=-1,a.paused=!1},a.pauseTime)),a.pos<=b-U&&(a.paused=!0,setTimeout(()=>{a.dir=1,a.paused=!1},a.pauseTime))),a.rafId=requestAnimationFrame(B)};i.dataset.marqueeHoverBound||(i.addEventListener("mouseenter",()=>{let b=R.get(i);b&&(b.paused=!0)}),i.addEventListener("mouseleave",()=>{let b=R.get(i);b&&(b.paused=!1)}),i.dataset.marqueeHoverBound="1"),a.rafId=requestAnimationFrame(B)},G=function(i){let o=R.get(i);o?.rafId&&(cancelAnimationFrame(o.rafId),o.rafId=null)},C=function(){let o=document.querySelector(".container-right-panel").offsetWidth;document.querySelectorAll(".container-meta-description-song-right-panel").forEach(f=>{let a=f.querySelector("span");a&&(G(f),a.style.left="0px",f.style.width=o+"px",a.scrollWidth>f.clientWidth&&L(f,{speed:.3,pauseTime:2e3}))})};var g=L,d=G,P=C;document.querySelector(".gutter-right")?.classList.remove("active"),C()}}})})(),r.addEventListener("click",()=>{T=!T;let c=document.getElementById("split-wrapper");e.style.display=T?"":"none",t.style.display=T?"":"none";let w=c.style.gridTemplateColumns.split(" ").map(h=>parseFloat(h.replace("fr","")));Number.isNaN(w[0])?c.style.gridTemplateColumns=`401px ${n}px 1fr ${n}px 0px`:T?c.style.gridTemplateColumns=`${w[0]}px ${n}px 1fr ${n}px 290px`:c.style.gridTemplateColumns=`${w[0]}px ${n}px 1fr ${n}px 0px`});let Q=document.querySelector(".button-to-collapse-library"),tt=document.querySelector(".container-search-bar");Q?.addEventListener("click",()=>{let c=document.querySelectorAll(".album-btn"),w=document.querySelectorAll(".container-title-meta"),h=document.querySelectorAll(".library-item"),g=k.id;k.src=g==="CLOSE"?V:W,k.id=g==="CLOSE"?"OPEN":"CLOSE";let d=document.getElementById("split-wrapper"),L=window.getComputedStyle(d).gridTemplateColumns.split(" ").map(i=>parseFloat(i.replace("fr",""))),G=`${m}px ${n}px ${L[2]}fr ${n}px ${L[4]}px`,C=`${M}px ${n}px ${L[2]}fr ${n}px ${L[4]}px`;if(tt.style.display=g==="CLOSE"?"flex":"none",d.style.gridTemplateColumns=g==="CLOSE"?G:C,N.style.display=g==="CLOSE"?"block":"none",g==="CLOSE"){console.log("INNEr"),c!==null&&(console.log(g),c.forEach(o=>{o.style.justifyContent="flex-start"})),h.forEach(o=>{o.style.marginRight="10px"}),w.forEach(o=>{o.style.display="inline-grid"}),N.style.display="block",x.style.display="flex",O.style.alignItems="start",A.style.margin="13px 8px",E?.classList.remove("container-library-center-style"),E?.classList.add("library-container");let i=document.querySelector(".library-container");i.style.padding="0px 0px 0px 10px",i.style.margin="0px 0px 0px 8px"}else if(g==="OPEN"){console.log("SECOND INNER"),c!==null&&(console.log(g),c.forEach(o=>{o.style.justifyContent="center"}));let i=document.querySelector(".library-container");i.style.padding="0px",i.style.margin="0px",h.forEach(o=>{o.style.marginRight="0px"}),w.forEach(o=>{o.style.display="none",x.style.display="none",N.style.display="none",A.style.margin="5px auto",E?.classList.remove("library-container"),E?.classList.add("container-library-center-style"),O.style.alignItems="center"})}})}lt();})();
